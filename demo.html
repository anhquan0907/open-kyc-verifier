<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open KYC Verifier - Enhanced Liveness Detection Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }

        .demo-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .demo-title {
            color: #007bff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }

        .feature-list {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .feature-list h4 {
            margin-top: 0;
            color: #495057;
        }

        .feature-list ul {
            margin: 10px 0 0 20px;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
        }
    </style>
</head>

<body>
    <h1>üéØ Open KYC Verifier - Enhanced Liveness Detection</h1>

    <div class="demo-section">
        <h2 class="demo-title">‚ú® New Features Implemented</h2>

        <div class="feature-list">
            <h4>üîÑ Three-Step Liveness Workflow</h4>
            <ul>
                <li><strong>Step 1:</strong> Look straight at camera (auto-advances)</li>
                <li><strong>Step 2:</strong> Smile to prove liveness</li>
                <li><strong>Step 3:</strong> Hold position with progress circle (auto-capture at 100%)</li>
            </ul>
        </div>

        <div class="feature-list">
            <h4>‚è±Ô∏è Progress Circle & Auto-Capture</h4>
            <ul>
                <li>3-second countdown with visual progress indicator</li>
                <li>Automatic photo capture when progress reaches 100%</li>
                <li>Smooth spinning animation with percentage display</li>
                <li>Resets if face moves during auto-capture phase</li>
            </ul>
        </div>

        <div class="feature-list">
            <h4>üîß Enhanced State Management</h4>
            <ul>
                <li>Updated livenessState with currentStep, progress, autoCaptureTimeout</li>
                <li>Robust reset mechanisms for invalid face detection</li>
                <li>Timeout handling for gesture detection phases</li>
            </ul>
        </div>
    </div>

    <div class="demo-section">
        <h2 class="demo-title">üìù Usage Examples</h2>

        <h3>KYC Verifier (Full Process)</h3>
        <div class="code-block">
            &lt;kyc-verifier api-key="YOUR_API_KEY"&gt;&lt;/kyc-verifier&gt;
        </div>

        <h3>Re-Verifier (Portrait Only)</h3>
        <div class="code-block">
            &lt;re-verifier api-key="YOUR_API_KEY" ses_id="SESSION_ID"&gt;&lt;/re-verifier&gt;
        </div>
    </div>

    <div class="demo-section">
        <h2 class="demo-title">üîç Technical Implementation</h2>

        <h4>Liveness State Structure</h4>
        <div class="code-block">
            this.livenessState = {
            currentStep: 'look_straight', // 'look_straight', 'smile', 'look_straight_and_wait'
            progress: 0, // 0-100 for progress circle
            autoCaptureTimeout: null,
            stepTimeout: 10000 // 10 seconds per step
            };
        </div>

        <h4>Three-Step Workflow Logic</h4>
        <div class="code-block">
            // Step 1: Look straight ‚Üí Step 2: Smile ‚Üí Step 3: Auto-capture
            if (this.livenessState.currentStep === 'look_straight') {
            this.livenessState.currentStep = 'smile';
            } else if (this.livenessState.currentStep === 'smile') {
            if (smileDetected) {
            this.livenessState.currentStep = 'look_straight_and_wait';
            this.startProgressCircle(); // 3-second countdown
            }
            } else if (this.livenessState.currentStep === 'look_straight_and_wait') {
            if (this.livenessState.progress >= 100) {
            // Auto-capture triggered
            isValid = true;
            }
            }
        </div>
    </div>

    <div class="demo-section">
        <h2 class="demo-title">üé® UI Enhancements</h2>
        <ul>
            <li>Progress circle overlay during auto-capture phase</li>
            <li>Real-time percentage display</li>
            <li>Smooth CSS animations</li>
            <li>Clear step-by-step instructions</li>
            <li>Responsive design for mobile devices</li>
        </ul>
    </div>

    <div class="demo-section">
        <h2 class="demo-title">üöÄ Benefits</h2>
        <ul>
            <li><strong>Better UX:</strong> Clear visual feedback and auto-capture</li>
            <li><strong>Enhanced Security:</strong> Structured liveness verification</li>
            <li><strong>Reduced Friction:</strong> No manual capture button during verification</li>
            <li><strong>Mobile Friendly:</strong> Optimized for touch devices</li>
            <li><strong>Consistent Experience:</strong> Same workflow across components</li>
        </ul>
    </div>

    <footer style="text-align: center; margin-top: 40px; color: #6c757d; font-size: 14px;">
        <p>Powered by Open KYC Verifier | Enhanced Liveness Detection v2.0</p>
    </footer>
</body>

</html>